### 파라미터 username

- form에서 username으로 넘어온걸 받는다 form에서 이름을 잘 써야함

![image](https://user-images.githubusercontent.com/108928206/196834002-0bdc7798-0daa-4ee8-98fb-85c5e5b75f8f.png)

아니면 이렇게 바꿔야한다.

## 동작원리

- 시큐리티 설정에서 loginProcessingUrl에서 "/login"으로 설정 (스프링 시큐리티가 낚아챔)
- 로그인이 실행이 되고 그 다음에 자동으로 UserDetailsService타입으로 ioc된 loadUserByUsername 함수가 실행이 됨 service입장에서는 

    username이 일치할 수도 있고 없을 수 도 있음
    
- service에서 form에서 넘어온 username을 받아 UserDetails를 반환
- 그 UserDetails은 시큐리티 세션의 Authentication에 들어가고 그 키가 Security ContextHolder이다.

![image](https://user-images.githubusercontent.com/108928206/196841027-56509b49-cd8d-4174-8a64-aaf275afa493.png)

- 내 생각엔 아이디로 변경해서 찾아도 될듯
